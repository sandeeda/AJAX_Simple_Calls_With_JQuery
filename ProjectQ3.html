<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Question3</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous" />
    <script src="https://code.jquery.com/jquery-3.6.0.js"
        integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
</head>

<body>
    <script>
        var endpoint;
        





        $(document).ready(function(){

            $('select').on('change', function () {
            endpoint = "https://newsapi.org/v2/top-headlines?country=" + this.value + "&apiKey=780b16250d334547a1c1b3cee5419e29";
            //alert(endpoint);
            $("#dataTable").html("");
            $("#dataTable").append("<tr>   <th>Author</th>            <th>Title</th>            <th>Description</th>        </tr>");
            $.ajax({
            url: endpoint,
            type: "GET",
            dataType: "JSON",
            success: function (headlines) {
                //console.log(headlines);
                var counter = 1;
                $.each(headlines.articles, function (index, articleRows) {
                    console.log(articleRows);

                    $("#dataTable").append(
                        "<tr><td>" +
                        articleRows.author +
                        "</td>" +
                        "<td>" +
                        articleRows.title +
                        "</td>" +
                        "<td>" +
                        articleRows.description +
                        "</td></tr>"
                    );
                    counter++;
                    if (counter > 10) {
                        return false;
                    }

                })
            }
        })
        });
        })
        
        
    </script>

    <div class="container">
        <div class="jumbotron">
        <h1>Prime Time News</h1>
        <p>Get news around the world! </p>
        </div>
        <select id="country-list" class="form-select form-select-lg mb-3" aria-label=".form-select-lg example">
            <option>Select Country</option>
            <option value="ar">Argentina</option>
            <option value="gr">Greece</option>
            <option value="nl">Netherlands</option>
            <option value="za">South Africa</option>
            <option value="au">Australia</option>
            <option value="hk">HongKong</option>
            <option value="nz">New Zealand</option>
            <option value="kr">South Korea</option>
            <option value="at">Austria</option>
            <option value="hu">Hungary</option>
            <option value="ng">Nigeria</option>
            <option value="se">Sweden</option>
            <option value="be">Belgium</option>
            <option value="in">India</option>
            <option value="no">Norway</option>
            <option value="ch">Switzerland</option>
            <option value="ca">Canada</option>
            <option value="us">United States</option>
        </select>
        <table id="dataTable" class="table table-striped">
            
        </table>
    
    </div>

    
</body>

</html>